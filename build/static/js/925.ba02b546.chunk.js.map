{"version":3,"file":"static/js/925.ba02b546.chunk.js","mappings":"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","sources":["config/axios.js","utils/getToken.js","pages/Login/Login.js"],"sourcesContent":["import axios from 'axios';\r\nimport { getToken } from '../utils/getToken';\r\n\r\nconst token = getToken();\r\nconst BASE_URL = 'https://turkmenexpress.com.tm/api/administrator/';\r\n\r\nconst axiosInstance = axios.create({\r\n    baseURL: BASE_URL,\r\n    timeout: 60000,\r\n    headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n        'Accept': \"application/json\",\r\n        \"Authorization\": `Bearer ${token}`\r\n    }\r\n});\r\n\r\nconst loginPost = async (phone_number, password) => {\r\n    const res = await axios.post(`${BASE_URL}login/`, { phone_number, password });\r\n    return res;\r\n}\r\nexport { axiosInstance, loginPost } ","export const getToken = () => {\r\n    let data = JSON.parse(localStorage.getItem('turkmenExpress-admin'));\r\n    if (data) {\r\n        return data.access\r\n    } else {\r\n        return null\r\n    }\r\n}","import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { AiOutlineLoading, AiOutlineUser, AiOutlineEye, AiOutlineEyeInvisible, AiOutlineLock } from 'react-icons/ai';\r\nimport './Login.css'\r\nimport { loginPost } from '../../config/axios';\r\nimport { message } from 'antd';\r\nimport Logo from '../../images/logo.png';\r\n\r\nconst Login = () => {\r\n    const navigate = useNavigate();\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [type, setType] = useState(\"password\");\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        try {\r\n            const res = await loginPost(username, password);\r\n            localStorage.setItem('turkmenExpress-admin', JSON.stringify(res.data));\r\n            message.success('Successfully!');\r\n            setLoading(false);\r\n            window.location.pathname = '/dashboard';\r\n        } catch (err) {\r\n            err.response?.data?.detail ? message.error(err.response.data.detail) : message.error('ошибка, попробуйте еще раз, пожалуйста');\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='login_page'>\r\n            <form className=\"login-container\" onSubmit={handleSubmit}>\r\n                <img src={Logo} alt='logo' />\r\n                <h2>Добро пожаловать!</h2>\r\n                <p>Введите свой пароль, чтобы использовать приложение!</p>\r\n\r\n                <div className='input-container'>\r\n                    <AiOutlineUser className='icon' />\r\n                    <input style={{ width: \"395px\" }} placeholder=\"Имя пользователя\" onChange={(e) => setUsername(e.target.value)} required />\r\n                </div>\r\n\r\n                <div className='input-container'>\r\n                    <AiOutlineLock className='icon' />\r\n                    <input type={type} placeholder=\"Пароль\" onChange={(e) => setPassword(e.target.value)} required />\r\n                    {type == 'password' ? <AiOutlineEye className='icon' style={!password ? { color: 'white' } : { color: \"rgb(73, 73, 231)\" }} onClick={() => setType(\"text\")} />\r\n                        : <AiOutlineEyeInvisible className='icon' onClick={() => setType(\"password\")} />\r\n                    }\r\n                </div>\r\n\r\n                <button className='login_button' type=\"submit\">{loading ? <AiOutlineLoading className='loading-spin' /> : \"Войти\"}</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;"],"names":["token","data","JSON","parse","localStorage","getItem","access","getToken","BASE_URL","axiosInstance","axios","baseURL","timeout","headers","concat","loginPost","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","phone_number","password","res","wrap","_context","prev","next","sent","abrupt","stop","_x","_x2","apply","arguments","useNavigate","_useState","useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","setPassword","_useState5","_useState6","loading","setLoading","_useState7","_useState8","type","setType","handleSubmit","e","_err$response","_err$response$data","preventDefault","setItem","stringify","message","window","location","pathname","t0","response","detail","_jsx","className","children","_jsxs","onSubmit","src","Logo","alt","AiOutlineUser","style","width","placeholder","onChange","target","value","required","AiOutlineLock","AiOutlineEye","color","onClick","AiOutlineEyeInvisible","AiOutlineLoading"],"sourceRoot":""}