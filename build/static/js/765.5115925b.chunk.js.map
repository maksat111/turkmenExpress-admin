{"version":3,"file":"static/js/765.5115925b.chunk.js","mappings":"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","sources":["components/TableComponent.js","pages/SubCategorySetting/SubCategorySetting.js"],"sourcesContent":["import { Table } from 'antd';\r\nimport React from 'react';\r\n\r\nfunction TableComponent({ dataSource, columns, pagination, active, loading }) {\r\n    return (\r\n        <Table\r\n            rowClassName={(record, rowIndex) => record.id == active && 'active-row'}\r\n            dataSource={dataSource}\r\n            columns={columns}\r\n            pagination={pagination}\r\n            loading={loading ? loading : false}\r\n        />\r\n    );\r\n}\r\n\r\nexport default TableComponent;","import { React, useEffect, useState } from 'react';\r\nimport { Modal, message, Select } from 'antd';\r\nimport { axiosInstance } from '../../config/axios';\r\nimport TableComponent from '../../components/TableComponent';\r\nimport axios from 'axios';\r\nimport './SubCategorySetting.css';\r\n\r\nfunction SubCategorySetting() {\r\n    const [dataSource, setDataSource] = useState([]);\r\n    const [open, setOpen] = useState(false);\r\n    const [confirmLoading, setConfirmLoading] = useState(false);\r\n    const [selectedItem, setSelectedItem] = useState(null);\r\n    const [addOpen, setAddOpen] = useState(false);\r\n    const [total, setTotal] = useState(null);\r\n    const [newItemSubCategory, setNewItemSubCategory] = useState([]);\r\n    const [newItemOption, setNewItemOption] = useState([]);\r\n    const [subcategoryOptions, setSubcategoryOptions] = useState([]);\r\n    const [optionOptions, setOptionOptions] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n\r\n    const showModal = (item) => {\r\n        setOpen(true);\r\n        setSelectedItem(item);\r\n    };\r\n\r\n    const handleOk = async () => {\r\n        try {\r\n            setConfirmLoading(true);\r\n            await axiosInstance.delete(`subcategory-options-group/delete/${selectedItem.id}`);\r\n            const newDataSource = dataSource.filter(element => element.id !== selectedItem.id);\r\n            setDataSource(newDataSource);\r\n            message.success('Успешно удалено!')\r\n            setOpen(false);\r\n            setConfirmLoading(false);\r\n        } catch (err) {\r\n            setConfirmLoading(false)\r\n            message.error('Произошла ошибка. Пожалуйста, попробуйте еще раз!')\r\n            console.log(err)\r\n        }\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const a = [];\r\n        const b = [];\r\n        const c = [];\r\n        setLoading(true);\r\n        axiosInstance.get('subcategory-options-group/list').then(async res => {\r\n            setTotal(res.data.count)\r\n            res.data?.results.forEach(element => {\r\n                a.push({\r\n                    key: element.id,\r\n                    id: element.id,\r\n                    subcategory: `${element.subcategory.category.name_ru} | ${element.subcategory.name_ru}`,\r\n                    option: element.option.name_ru\r\n                })\r\n            });\r\n            //----------------------------getting subcategory options---------------------------------------------//\r\n            const subcategories = await axios.get('https://turkmenexpress.com.tm/api/library/subcategories/list/');\r\n            subcategories.data.forEach(item => {\r\n                b.push({\r\n                    label: `${item.category.name_ru} | ${item.name_ru}`,\r\n                    value: `${item.category.name_ru} | ${item.name_ru}`,\r\n                    id: item.id\r\n                });\r\n            });\r\n            //---------------------------------------getting Options----------------------------------------------//\r\n            const options = await axiosInstance.get('options-group/list/');\r\n            options.data.forEach(item => {\r\n                c.push({\r\n                    label: item.name_ru,\r\n                    value: item.name_ru,\r\n                    id: item.id\r\n                })\r\n            });\r\n            setSubcategoryOptions(b);\r\n            setOptionOptions(c);\r\n            setDataSource(a);\r\n            setLoading(false);\r\n        }).catch(err => console.log(err));\r\n    }, []);\r\n\r\n    const columns = [\r\n        {\r\n            title: 'id',\r\n            dataIndex: 'id',\r\n            key: 'id',\r\n            width: '65px',\r\n            style: { alignItems: \"center\" }\r\n        },\r\n        {\r\n            title: 'Подкатегория',\r\n            dataIndex: 'subcategory',\r\n            key: 'subcategory',\r\n        },\r\n        {\r\n            title: 'Опция',\r\n            dataIndex: 'option',\r\n            key: 'option',\r\n        },\r\n        {\r\n            title: 'Удалить',\r\n            dataIndex: 'active',\r\n            key: 'active',\r\n            width: '110px',\r\n            render: (_, record) => (\r\n                <div className='delete-icon' onClick={() => showModal(record)}>\r\n                    Удалить\r\n                </div>\r\n            ),\r\n        },\r\n        {\r\n            title: 'Изменить',\r\n            dataIndex: 'active',\r\n            key: 'active',\r\n            width: '120px',\r\n            render: (_, record) => (\r\n                <div className='update-icon' onClick={() => showAddModal(record)}>\r\n                    Изменить\r\n                </div>\r\n            ),\r\n        },\r\n    ];\r\n\r\n    //---------------------------------------------------ADD MODAL-------------------------------------------//\r\n    const showAddModal = (item) => {\r\n        if (item.id) {\r\n            setSelectedItem(item);\r\n            setNewItemSubCategory(subcategoryOptions?.filter(subcategoryOption => subcategoryOption.value == item.subcategory));\r\n            setNewItemOption(optionOptions?.filter(optionOption => optionOption.value == item.option));\r\n        } else {\r\n            setSelectedItem(null);\r\n        }\r\n        setAddOpen(true);\r\n    };\r\n\r\n    const handleAddOk = async () => {\r\n        setConfirmLoading(true);\r\n        try {\r\n            if (!selectedItem?.id) {\r\n                const a = [];\r\n                newItemSubCategory.forEach(subcategory => {\r\n                    newItemOption.forEach(async option => {\r\n                        const formData = new FormData();\r\n                        formData.append('subcategory', subcategory.id);\r\n                        formData.append('option', option.id);\r\n                        const newAdded = await axiosInstance.post('subcategory-options-group/add/', formData);\r\n                        a.push({\r\n                            key: newAdded.data.id,\r\n                            id: newAdded.data.id,\r\n                            subcategory: subcategory.label,\r\n                            option: option.label\r\n                        });\r\n                    })\r\n                });\r\n                setDataSource([...dataSource, ...a]);\r\n            } else {\r\n                const formData = new FormData();\r\n                formData.append('subcategory', newItemSubCategory[0].id);\r\n                formData.append('option', newItemOption[0].id);\r\n                const updated = await axiosInstance.patch(`subcategory-options-group/update/${selectedItem.id}/`, formData);\r\n                const index = dataSource.findIndex(item => item.id == selectedItem.id);\r\n                setDataSource(previousState => {\r\n                    const a = previousState;\r\n                    a[index].subcategory = newItemSubCategory[0].value;\r\n                    a[index].option = newItemOption[0].value;\r\n                    return a;\r\n                })\r\n            }\r\n            setNewItemOption([]);\r\n            setNewItemSubCategory([]);\r\n            setConfirmLoading(false);\r\n            message.success('Успешно!');\r\n            setAddOpen(false);\r\n        } catch (err) {\r\n            setConfirmLoading(false)\r\n            message.error('Произошла ошибка. Пожалуйста, попробуйте еще раз!');\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    const handleAddCancel = () => {\r\n        setNewItemOption([]);\r\n        setNewItemSubCategory([]);\r\n        setAddOpen(false);\r\n    };\r\n\r\n    const onPaginationChange = async (page) => {\r\n        const a = [];\r\n        const res = await axiosInstance.get(`subcategory-options-group/list?page=${page}`);\r\n        res.data.results?.forEach(element => {\r\n            a.push({\r\n                key: element.id,\r\n                id: element.id,\r\n                subcategory: `${element.subcategory.category.name_ru} | ${element.subcategory.name_ru}`,\r\n                option: element.option.name_ru\r\n            });\r\n        });\r\n        setDataSource(a);\r\n    }\r\n\r\n    const handleSubcategorySelectChange = (e) => {\r\n        let a = [];\r\n        subcategoryOptions?.forEach(item => {\r\n            e.forEach(selected => item.value == selected && a.push({ id: item.id, label: selected, value: selected }));\r\n        });\r\n        setNewItemSubCategory(a);\r\n    }\r\n\r\n    const handleOptionSelectChange = (e) => {\r\n        let a = [];\r\n        optionOptions?.forEach(item => {\r\n            e.forEach(selected => item.value == selected && a.push({ id: item.id, label: selected, value: selected }));\r\n        });\r\n        setNewItemOption(a);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Modal\r\n                title=\"Дополните детали\"\r\n                open={addOpen}\r\n                onOk={handleAddOk}\r\n                confirmLoading={confirmLoading}\r\n                onCancel={handleAddCancel}\r\n                cancelText={'Отмена'}\r\n                okText={'Да'}\r\n                width={'700px'}\r\n                okType={'primary'}\r\n                style={{ top: '150px' }}\r\n            >\r\n                <div className='banner-add-container'>\r\n                    <div className='add-left'>\r\n                        <div className='add-column'>\r\n                            Подкатегория:\r\n                        </div>\r\n                        <div className='add-column'>\r\n                            Опция:\r\n                        </div>\r\n                    </div>\r\n                    <div className='add-right'>\r\n                        <div className='subcategory-settings-add-column add-column'>\r\n                            <Select\r\n                                value={newItemSubCategory}\r\n                                mode=\"multiple\"\r\n                                allowClear\r\n                                style={{\r\n                                    width: '100%',\r\n                                }}\r\n                                placeholder=\"Выберите подкатегорию\"\r\n                                onChange={(e) => handleSubcategorySelectChange(e)}\r\n                                options={subcategoryOptions}\r\n                            />\r\n                        </div>\r\n                        <div className='subcategory-settings-add-column add-column'>\r\n                            <Select\r\n                                value={newItemOption}\r\n                                mode=\"multiple\"\r\n                                allowClear\r\n                                style={{\r\n                                    width: '100%',\r\n                                }}\r\n                                placeholder=\"Выберите опцию\"\r\n                                onChange={(e) => handleOptionSelectChange(e)}\r\n                                options={optionOptions}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Modal>\r\n            <Modal\r\n                title=\"Вы уверены, что хотите удалить?\"\r\n                open={open}\r\n                onOk={handleOk}\r\n                confirmLoading={confirmLoading}\r\n                onCancel={handleCancel}\r\n                cancelText={'Отмена'}\r\n                okText={'Да'}\r\n                okType={'primary'}\r\n                okButtonProps={{ danger: true }}\r\n                style={{\r\n                    top: '200px'\r\n                }}\r\n            />\r\n            <div className='page'>\r\n                <div className='page-header-content'>\r\n                    <h2>Группа опций в подактегориях</h2>\r\n                    <div className='add-button' onClick={showAddModal}>Добавлять</div>\r\n                </div>\r\n                <TableComponent\r\n                    dataSource={dataSource}\r\n                    columns={columns}\r\n                    pagination={{ onChange: onPaginationChange, total: total, pageSize: 20 }}\r\n                    active={selectedItem?.id}\r\n                    loading={loading}\r\n                />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default SubCategorySetting;"],"names":["_ref","dataSource","columns","pagination","active","loading","_jsx","Table","rowClassName","record","rowIndex","id","_useState","useState","_useState2","_slicedToArray","setDataSource","_useState3","_useState4","open","setOpen","_useState5","_useState6","confirmLoading","setConfirmLoading","_useState7","_useState8","selectedItem","setSelectedItem","_useState9","_useState10","addOpen","setAddOpen","_useState11","_useState12","total","setTotal","_useState13","_useState14","newItemSubCategory","setNewItemSubCategory","_useState15","_useState16","newItemOption","setNewItemOption","_useState17","_useState18","subcategoryOptions","setSubcategoryOptions","_useState19","_useState20","optionOptions","setOptionOptions","_useState21","_useState22","setLoading","handleOk","_asyncToGenerator","_regeneratorRuntime","mark","_callee","newDataSource","wrap","_context","prev","next","axiosInstance","concat","filter","element","message","t0","console","log","stop","apply","arguments","useEffect","a","b","c","then","_ref2","_callee2","res","_res$data","_context2","data","count","results","forEach","push","key","subcategory","category","name_ru","option","axios","sent","item","label","value","_x","catch","err","title","dataIndex","width","style","alignItems","render","_","className","onClick","children","showAddModal","subcategoryOption","optionOption","handleAddOk","_ref3","_callee4","formData","index","_context4","_ref4","_callee3","newAdded","_context3","FormData","append","_x2","_toConsumableArray","findIndex","previousState","onPaginationChange","_ref5","_callee5","page","_res$data$results","_context5","_x3","_jsxs","_Fragment","Modal","onOk","onCancel","cancelText","okText","okType","top","Select","mode","allowClear","placeholder","onChange","e","selected","handleSubcategorySelectChange","options","handleOptionSelectChange","okButtonProps","danger","TableComponent","pageSize"],"sourceRoot":""}