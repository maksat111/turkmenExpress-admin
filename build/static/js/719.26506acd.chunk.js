"use strict";(self.webpackChunkturkmenexpressadmin=self.webpackChunkturkmenexpressadmin||[]).push([[719],{3073:function(n,e,t){var a=t(7652),r=(t(2791),t(184));e.Z=function(n){var e=n.dataSource,t=n.columns,o=n.pagination,i=n.active,u=n.loading;return(0,r.jsx)(a.Z,{rowClassName:function(n,e){return n.id==i&&"active-row"},dataSource:e,columns:t,pagination:o,loading:u||!1})}},102:function(n,e,t){t.d(e,{b:function(){return c},J:function(){return s}});var a=t(4165),r=t(5861),o=t(1243),i=function(){var n=JSON.parse(localStorage.getItem("turkmenExpress-admin"));return n?n.access:null}(),u="https://turkmenexpress.com.tm/api/administrator/",c=o.Z.create({baseURL:u,timeout:6e4,headers:{"Content-Type":"multipart/form-data",Accept:"application/json",Authorization:"Bearer ".concat(i)}}),s=function(){var n=(0,r.Z)((0,a.Z)().mark((function n(e,t){var r;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Z.post("".concat(u,"login/"),{phone_number:e,password:t});case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},2719:function(n,e,t){t.r(e),t.d(e,{default:function(){return x}});var a=t(4942),r=t(1413),o=t(3433),i=t(4165),u=t(5861),c=t(9439),s=t(2791),d=t(3073),l=t(102),p=t(7027),m=t(814),f=t(7145),v=t(2438),h=t(184);var x=function(){var n=(0,s.useState)([]),e=(0,c.Z)(n,2),t=e[0],x=e[1],_=(0,s.useState)(!1),k=(0,c.Z)(_,2),Z=k[0],g=k[1],j=(0,s.useState)(!1),w=(0,c.Z)(j,2),y=w[0],b=w[1],N=(0,s.useState)(null),S=(0,c.Z)(N,2),C=S[0],I=S[1],E=(0,s.useState)(null),T=(0,c.Z)(E,2),P=T[0],F=T[1],J=(0,s.useState)(!1),L=(0,c.Z)(J,2),O=L[0],z=L[1],A=(0,s.useState)(null),B=(0,c.Z)(A,2),D=B[0],Q=B[1],R=(0,s.useState)([]),U=(0,c.Z)(R,2),q=U[0],G=U[1],H=(0,s.useState)(null),K=(0,c.Z)(H,2),M=K[0],V=K[1],W=(0,s.useState)(null),X=(0,c.Z)(W,2),Y=X[0],$=X[1];(0,s.useEffect)((function(){l.b.get("options/list").then(function(){var n=(0,u.Z)((0,i.Z)().mark((function n(e){var t,a,r,o,u;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=[],o=[],F(e.data.count),$(e.data.results.length),null===(t=e.data)||void 0===t||t.results.forEach((function(n){r.push({id:n.id,key:n.id,name_ru:n.name_ru,name_en:n.name_en,name_tk:n.name_tk,option_group:n.option_group.name_ru})})),x(r),n.next=8,l.b.get("options-group/list/");case 8:u=n.sent,null===(a=u.data)||void 0===a||a.forEach((function(n){o.push({label:n.name_ru,value:n.name_ru,id:n.id})})),Q(o);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(n){return console.log(n)}))}),[]);var nn=[{title:"id",dataIndex:"id",key:"id",width:"65px"},{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0440\u0443\u0441.)",dataIndex:"name_ru",key:"name_ru"},{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0442\u0443\u0440\u043a\u043c.)",dataIndex:"name_tk",key:"name_tk"},{title:"\u041d\u0430\u0432\u0437\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433.)",dataIndex:"name_en",key:"name_en"},{title:"\u0413\u0440\u0443\u043f\u043f\u0430 \u043e\u043f\u0446\u0438\u0439",dataIndex:"option_group",key:"option_group"},{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",dataIndex:"active",key:"active",width:"110px",render:function(n,e){return(0,h.jsx)("div",{className:"delete-icon",onClick:function(){return en(e)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})}},{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",dataIndex:"active",key:"active",width:"120px",render:function(n,e){return(0,h.jsx)("div",{className:"update-icon",onClick:function(){return an(e)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})}}],en=function(n){I(n),g(!0)},tn=function(){var n=(0,u.Z)((0,i.Z)().mark((function n(){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,b(!0),n.next=4,l.b.delete("options/delete/".concat(C.id,"/"));case 4:e=t.filter((function(n){return n.id!==C.id})),x(e),p.ZP.success("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e"),g(!1),b(!1),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(0),b(!1),p.ZP.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437!"),console.log(n.t0);case 16:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(){return n.apply(this,arguments)}}(),an=function(n){if(n.id){var e;I(n);var t=D.filter((function(e){return e.name_ru==n.option_group}));G([{id:null===(e=t[0])||void 0===e?void 0:e.id,label:n.option_group,value:n.option_group}]),V(n)}z(!0)},rn=function(){var n=(0,u.Z)((0,i.Z)().mark((function n(){var e,a,r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!M.id){n.next=14;break}return(e=new FormData).append("name_ru",M.name_ru),e.append("name_en",M.name_en),e.append("name_tk",M.name_tk),e.append("option_group",q[0].id),n.next=9,l.b.patch("options/update/".concat(M.id,"/"),e);case 9:n.sent,a=t.findIndex((function(n){return n.id==M.id})),x((function(n){var e=n;return e[a].name_ru=M.name_ru,e[a].name_en=M.name_en,e[a].name_tk=M.name_tk,e[a].option_group=q[0].value,e})),n.next=18;break;case 14:r=[],b(!0),q.forEach(function(){var n=(0,u.Z)((0,i.Z)().mark((function n(e){var t,a;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(t=new FormData).append("name_ru",M.name_ru),t.append("name_en",M.name_en),t.append("name_tk",M.name_tk),t.append("option_group",e.id),n.next=7,l.b.post("options/add/",t);case 7:(a=n.sent).data.key=a.data.id,r.push(a.data);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),x([].concat((0,o.Z)(t),r));case 18:G([]),V(null),p.ZP.success("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e"),b(!1),z(!1),n.next=30;break;case 25:n.prev=25,n.t0=n.catch(0),b(!1),p.ZP.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437!"),console.log(n.t0);case 30:case"end":return n.stop()}}),n,null,[[0,25]])})));return function(){return n.apply(this,arguments)}}(),on=function(n){V((0,r.Z)((0,r.Z)({},M),{},(0,a.Z)({},n.target.name,[n.target.value])))},un=function(){var n=(0,u.Z)((0,i.Z)().mark((function n(e){var t,a,r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=[],n.next=3,l.b.get("options/list?page=".concat(e));case 3:r=n.sent,null===(t=r.data.results)||void 0===t||t.forEach((function(n){a.push({id:n.id,key:n.id,name_ru:n.name_ru,name_en:n.name_en,name_tk:n.name_tk,option_group:n.option_group.name_ru})})),x(a);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m.Z,{title:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0434\u0435\u0442\u0430\u043b\u0438 \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f",open:O,onOk:rn,confirmLoading:y,onCancel:function(){G([]),V(null),z(!1)},cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",okText:"\u0414\u0430",width:"600px",okType:"primary",style:{top:"100px"},children:(0,h.jsxs)("div",{className:"banner-add-container",children:[(0,h.jsxs)("div",{className:"add-left",children:[(0,h.jsx)("div",{className:"add-column",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0440\u0443\u0441.):"}),(0,h.jsx)("div",{className:"add-column",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0442\u0443\u0440\u043a\u043c.):"}),(0,h.jsx)("div",{className:"add-column",children:"\u041d\u0430\u0432\u0437\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433.):"}),(0,h.jsx)("div",{className:"add-column",children:"\u0413\u0440\u0443\u043f\u043f\u0430 \u043e\u043f\u0446\u0438\u0439:"})]}),(0,h.jsxs)("div",{className:"add-right",children:[(0,h.jsx)("div",{className:"add-column",children:(0,h.jsx)(v.Z,{name:"name_ru",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0440\u0443\u0441.)",value:null===M||void 0===M?void 0:M.name_ru,onChange:on})}),(0,h.jsx)("div",{className:"add-column",children:(0,h.jsx)(v.Z,{name:"name_tk",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0442\u0443\u0440\u043a\u043c.)",value:null===M||void 0===M?void 0:M.name_tk,onChange:on})}),(0,h.jsx)("div",{className:"add-column",children:(0,h.jsx)(v.Z,{name:"name_en",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433.)",value:null===M||void 0===M?void 0:M.name_en,onChange:on})}),(0,h.jsx)("div",{className:"add-column",children:(0,h.jsx)(f.Z,{value:q,mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0440\u0443\u043f\u043f\u0430 \u043e\u043f\u0446\u0438\u044e",onChange:function(n){return function(n){var e=[];D.forEach((function(t){n.forEach((function(n){return t.value==n&&e.push({id:t.id,label:n,value:n})}))})),G(e)}(n)},options:D})})]})]})}),(0,h.jsx)(m.Z,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c?",open:Z,onOk:tn,confirmLoading:y,onCancel:function(){g(!1)},okButtonProps:{danger:!0},cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",okText:"\u0414\u0430",okType:"primary",style:{top:"200px"}}),(0,h.jsxs)("div",{className:"page",children:[(0,h.jsxs)("div",{className:"page-header-content",children:[(0,h.jsx)("h2",{children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u043f\u0446\u0438\u0439"}),(0,h.jsx)("div",{className:"add-button",onClick:an,children:"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c"})]}),(0,h.jsx)(d.Z,{active:null===C||void 0===C?void 0:C.id,columns:nn,dataSource:t,pagination:{onChange:un,total:P,pageSize:Y,showQuickJumper:!0}})]})]})}}}]);
//# sourceMappingURL=719.26506acd.chunk.js.map